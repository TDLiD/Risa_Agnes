<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 Future Hub</title>
    <script src="music/music_list.js"></script>
    <style>
        :root { --accent:#00ffa3; --glass: rgba(15, 23, 42, 0.7); --heart-red:#ff4d6d; }
        body { margin:0; background:#020205; color:white; font-family:'Inter',sans-serif; overflow:hidden; }
        
        /* âœ¨ 3D í•˜íŠ¸ ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .heart-container { 
            position: absolute; top: 40%; left: 50%; 
            transform: translate(-50%, -50%); 
            display: flex; gap: 80px; z-index: 100; 
            perspective: 2000px; 
        }
        
        .heart-link { 
            position: relative; text-align:center; text-decoration:none; 
            transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            transform-style: preserve-3d;
        }

        /* ğŸ’– ëŒ€í˜• 3D ì´ë¯¸ì§€ í•˜íŠ¸ (í¬ê¸° ë° ì‹œê° íš¨ê³¼ ê°•í™”) */
        .heart-visual {
            position: relative;
            width: 280px; height: 280px;
            margin-bottom: 25px;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            /* í•˜íŠ¸ ëª¨ì–‘ ë§ˆìŠ¤í‚¹ - ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ì„ ìœ„í•´ maskì™€ clip-path ë³‘í–‰ */
            -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            -webkit-mask-size: contain; mask-size: contain;
            -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
            
            transition: 0.6s;
            transform: translateZ(50px);
            filter: brightness(0.8) contrast(1.1);
        }

        /* í•˜íŠ¸ í…Œë‘ë¦¬ ì…ì²´ ê´‘ì±„ */
        .heart-link::after {
            content: ''; position: absolute; top: -10px; left: -10px; right: -10px; bottom: 85px;
            background: currentColor; opacity: 0.2; filter: blur(40px);
            z-index: -1; transform: translateZ(-30px); transition: 0.5s;
        }

        /* 3D í˜¸ë²„: ì‚¬ì§„ ëŒì¶œ */
        .heart-link:hover { 
            transform: scale(1.1) rotateY(20deg) rotateX(10deg); 
            z-index: 500;
        }
        .heart-link:hover .heart-visual { 
            filter: brightness(1.1) contrast(1.2);
            transform: translateZ(120px);
            box-shadow: 0 40px 80px rgba(0,0,0,0.8);
        }
        .heart-link:hover::after { opacity: 0.5; filter: blur(60px); }

        .heart-label { 
            font-size: 14px; font-weight: 900; letter-spacing: 5px; 
            text-transform: uppercase; transition: 0.3s;
            text-shadow: 0 0 10px rgba(0,0,0,1);
        }

        /* ì´ë¯¸ì§€ ì§€ì • */
        .heart-old { background-image: url('images/old/image-035.png'); color: var(--heart-red); }
        .heart-new { background-image: url('images/2026-02/image-018.jpg'); color: var(--accent); }

        /* ì¤‘ì•™ ë°°ê²½ ë¬¸êµ¬ */
        .main-title { position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); text-align:center; pointer-events:none; z-index:10; }
        .main-title h1 { font-size:6rem; margin:0; letter-spacing:-5px; opacity:0.03; white-space: nowrap; }
        
        /* ğŸ¼ ìŒì•… í”Œë ˆì´ì–´ ìœ ì§€ */
        #player-container { 
            position: fixed; bottom: 170px; right: 30px; width: 280px; 
            background: var(--glass); backdrop-filter: blur(20px); 
            border: 1px solid rgba(0, 255, 163, 0.2); border-radius: 24px; 
            z-index: 1000; color: white; padding: 18px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }
        .player-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
        #track-name { font-size: 12px; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .controls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 10px; }
        .controls button { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: white; cursor: pointer; height: 35px; border-radius: 10px; font-size: 10px; transition: 0.3s; }
        .controls button:hover { background: rgba(0, 255, 163, 0.15); border-color: var(--accent); }

        /* ğŸï¸ í•˜ë‹¨ GIF ì„ ë°˜ ìœ ì§€ */
        .bottom-shelf { position:fixed; bottom:0; width:100%; height:140px; background:linear-gradient(transparent, rgba(0,255,163,0.05)); overflow:hidden; border-top:1px solid rgba(0,255,163,0.2); z-index: 50; }
        .gif-track { display:flex; width:max-content; animation: slide 40s linear infinite; align-items: center; height:100%; }
        .gif-track img { height:90px; margin:0 15px; border-radius:10px; opacity:0.6; transition: 0.3s; border: 1px solid rgba(255,255,255,0.1); }
        .gif-track img:hover { opacity: 1; transform: scale(1.1); border-color: var(--accent); }
        @keyframes slide { from { transform:translateX(0); } to { transform:translateX(-50%); } }
    </style>
</head>
<body>
    <div class="main-title"><h1>FUTURE GALLERY</h1></div>

    <div class="heart-container">
        <a href="old.html" class="heart-link">
            <div class="heart-visual heart-old"></div>
            <div class="heart-label" style="color: var(--heart-red);">OLD MEMORIES</div>
        </a>
        <a href="2026-02.html" class="heart-link">
            <div class="heart-visual heart-new"></div>
            <div class="heart-label" style="color: var(--accent);">2026 FEBRUARY</div>
        </a>
    </div>

    <div class="bottom-shelf">
        <div class="gif-track" id="gif-container"></div>
    </div>

    <div id="player-container">
        <div class="player-header">
            <div style="font-size: 8px; color: var(--accent); text-transform: uppercase;">Now Playing</div>
        </div>
        <div id="track-name">READY TO PLAY</div>
        <div class="controls">
            <button onclick="prevTrack()">â—â—</button>
            <button id="play-btn" onclick="togglePlay()">PLAY</button>
            <button onclick="nextTrack()">â–·â–·</button>
        </div>
        <audio id="bg-music"></audio>
    </div>

    <script>
        // 1. GIF ë¡œë“œ ë¡œì§ (ê¸°ì¡´ ìœ ì§€)
        async function initGifs() {
            try {
                const response = await fetch('images/photos.json');
                const data = await response.json();
                const gifs = data.lisa_gifs || []; 
                const container = document.getElementById('gif-container');
                if(gifs.length > 0) {
                    [...gifs, ...gifs].forEach(name => {
                        const img = document.createElement('img');
                        img.src = `bg/lisa/${name}`;
                        img.onerror = () => img.remove();
                        container.appendChild(img);
                    });
                }
            } catch (e) { console.error("GIF Load Error:", e); }
        }

        // 2. ìŒì•… í”Œë ˆì´ì–´ ë¡œì§ (ê¸°ì¡´ ìœ ì§€)
        const tracks = typeof EXTERNAL_TRACKS !== 'undefined' ? EXTERNAL_TRACKS : [];
        let currentIdx = 0;
        const audio = document.getElementById('bg-music');
        const playBtn = document.getElementById('play-btn');

        function loadTrack(index, autoPlay = true) {
            if(!tracks.length) return;
            currentIdx = index;
            audio.src = `music/${tracks[index]}`;
            document.getElementById('track-name').innerText = tracks[index].replace('.mp3','').replace(/_/g, ' ');
            if (autoPlay) audio.play();
            playBtn.innerText = autoPlay ? "PAUSE" : "PLAY";
        }

        function togglePlay() {
            if (audio.paused) { audio.play(); playBtn.innerText = "PAUSE"; }
            else { audio.pause(); playBtn.innerText = "PLAY"; }
        }
        function nextTrack() { loadTrack((currentIdx + 1) % tracks.length); }
        function prevTrack() { loadTrack((currentIdx - 1 + tracks.length) % tracks.length); }
        audio.onended = nextTrack;

        window.onload = () => {
            initGifs();
            if(tracks.length > 0) loadTrack(0, false);
        };
    </script>
</body>
</html>
