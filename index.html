<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>2026 Future Hub</title>
    <script src="music/music_list.js"></script>
    <style>
        :root{--accent:#00ffa3;--glass:rgba(15,23,42,0.8);--heart-red:#ff4d6d}
        body{margin:0;background:#020205;color:white;font-family:'Inter',sans-serif;overflow:hidden;height:100dvh}
        .heart-container{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);display:flex;gap:40px;z-index:100;perspective:2000px;width:100%;justify-content:center;align-items:center}
        @media(max-width:768px){.heart-container{flex-direction:column;gap:20px;top:40%}.heart-visual{width:200px!important;height:200px!important}.main-title h1{font-size:3rem!important}}
        .heart-link{position:relative;text-align:center;text-decoration:none;transition:.6s cubic-bezier(.23,1,.32,1);transform-style:preserve-3d}
        .heart-visual{position:relative;width:260px;height:260px;margin-bottom:15px;background-size:cover;background-position:center;-webkit-mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;transition:.6s;transform:translateZ(50px);filter:brightness(0.9)}
        .heart-old{background-image:url('images/old/image-035.png');color:var(--heart-red)}
        .heart-new{background-image:url('images/2026-02/image-018.jpg');color:var(--accent)}
        .heart-label{font-size:12px;font-weight:900;letter-spacing:2px;text-transform:uppercase}
        .main-title{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;pointer-events:none;z-index:10;width:100%}
        .main-title h1{font-size:6rem;margin:0;letter-spacing:-2px;opacity:.04;white-space:nowrap}
        #p-cont{position:fixed;bottom:140px;right:20px;width:280px;background:var(--glass);backdrop-filter:blur(20px);border:1px solid rgba(0,255,163,0.2);border-radius:24px;z-index:10000;padding:18px;box-shadow:0 20px 40px rgba(0,0,0,0.4);touch-action:none;cursor:grab}
        .p-header{display:flex;align-items:center;gap:10px;margin-bottom:12px;pointer-events:none}
        .eq{display:flex;align-items:flex-end;gap:2px;height:12px}
        .eq span{width:3px;background:var(--accent);animation:eq .8s infinite alternate}
        @keyframes eq{0%{height:3px}100%{height:12px}}
        .paused .eq span{animation-play-state:paused;height:3px}
        #t-name{font-size:12px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}
        .ctrls{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px}
        .ctrls button{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);color:white;height:34px;border-radius:10px;font-size:10px;cursor:pointer}
        .s-list{max-height:90px;overflow-y:auto;font-size:10px;background:rgba(0,0,0,.2);border-radius:10px;padding:5px}
        .s-item{padding:6px;cursor:pointer;opacity:.6;border-radius:6px}
        .s-item.active{opacity:1;background:rgba(0,255,163,.15);color:var(--accent)}
        .bottom-shelf{position:fixed;bottom:0;width:100%;height:100px;background:linear-gradient(transparent,rgba(0,255,163,.05));overflow:hidden;border-top:1px solid rgba(0,255,163,.1);z-index:50}
        .gif-track{display:flex;width:max-content;animation:slide 30s linear infinite;align-items:center;height:100%}
        .gif-track img{height:60px;margin:0 10px;border-radius:8px;opacity:.5}
        @keyframes slide{from{transform:translateX(0)}to{transform:translateX(-50%)}}
    </style>
</head>
<body>
    <div class="main-title"><h1>FUTURE HUB</h1></div>
    <div class="heart-container">
        <a href="old.html" class="heart-link"><div class="heart-visual heart-old"></div><div class="heart-label" style="color:var(--heart-red)">OLD MEMORIES</div></a>
        <a href="2026-02.html" class="heart-link"><div class="heart-visual heart-new"></div><div class="heart-label" style="color:var(--accent)">2026 FEBRUARY</div></a>
    </div>
    <div class="bottom-shelf"><div class="gif-track" id="gif-container"></div></div>
    <div id="p-cont" class="paused">
        <div class="p-header"><div class="eq"><span></span><span></span><span></span></div><div id="t-name">READY</div></div>
        <div class="ctrls"><button onclick="prevT()">◁◁</button><button id="p-btn" onclick="toggleP()">PLAY</button><button onclick="nextT()">▷▷</button></div>
        <div class="s-list" id="pl"></div>
        <audio id="audio"></audio>
    </div>
    <script>
        const audio=document.getElementById('audio'),pBtn=document.getElementById('p-btn'),tName=document.getElementById('t-name'),plEl=document.getElementById('pl'),pCont=document.getElementById('p-cont'),tracks=typeof EXTERNAL_TRACKS!=='undefined'?EXTERNAL_TRACKS:[];
        let cIdx=0;
        async function initGifs(){
            try{
                const res=await fetch('images/photos.json'),data=await res.json(),gifs=data.lisa_gifs||[],cont=document.getElementById('gif-container');
                [...gifs,...gifs].forEach(n=>{const img=document.createElement('img');img.src=`bg/lisa/${n}`;cont.appendChild(img)});
            }catch(e){}
        }
        function initP(){
            plEl.innerHTML=tracks.map((t,i)=>`<div class="s-item ${i===cIdx?'active':''}" onclick="loadT(${i})">${i+1}. ${t.replace('.mp3','')}</div>`).join('');
            loadT(0,false);
        }
        function loadT(idx,a=true){
            if(!tracks.length)return;cIdx=idx;audio.src=`music/${tracks[idx]}`;
            tName.innerText=tracks[idx].replace('.mp3','').replace(/_/g,' ');
            document.querySelectorAll('.s-item').forEach((it,i)=>it.classList.toggle('active',i===idx));
            if(a)audio.play().then(()=>updUI(true));else updUI(false);
        }
        function toggleP(){if(audio.paused)audio.play().then(()=>updUI(true));else{audio.pause();updUI(false)}}
        function updUI(p){pCont.classList.toggle('paused',!p);pBtn.innerText=p?"PAUSE":"PLAY"}
        function nextT(){cIdx=(cIdx+1)%tracks.length;loadT(cIdx)}
        function prevT(){cIdx=(cIdx-1+tracks.length)%tracks.length;loadT(cIdx)}
        audio.onended=nextT;
        let isDrag=false,sX,sY,iX,iY;
        const sD=(e)=>{
            if(e.target.closest('button')||e.target.closest('.s-list'))return;
            isDrag=true;const cX=e.type==='touchstart'?e.touches[0].clientX:e.clientX,cY=e.type==='touchstart'?e.touches[0].clientY:e.clientY;
            const r=pCont.getBoundingClientRect();sX=cX;sY=cY;iX=r.left;iY=r.top;
        };
        const oD=(e)=>{
            if(!isDrag)return;const cX=e.type==='touchmove'?e.touches[0].clientX:e.clientX,cY=e.type==='touchmove'?e.touches[0].clientY:e.clientY;
            pCont.style.left=`${iX+(cX-sX)}px`;pCont.style.top=`${iY+(cY-sY)}px`;pCont.style.right='auto';pCont.style.bottom='auto';
        };
        pCont.addEventListener('mousedown',sD);pCont.addEventListener('touchstart',sD,{passive:false});
        window.addEventListener('mousemove',oD);window.addEventListener('touchmove',oD,{passive:false});
        window.addEventListener('mouseup',()=>isDrag=false);window.addEventListener('touchend',()=>isDrag=false);
        window.onload=()=>{initGifs();initP()};
    </script>
</body>
</html>
