<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 Future Gallery - Lisa n Agnes</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/granim/2.0.0/granim.min.js"></script>
    <style>
        :root {
            --accent: #00ffa3;
            --glow: rgba(0, 255, 163, 0.4);
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            color: white;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            background-color: #050507;
            perspective: 2000px;
        }

        /* 1. Granim ë°°ê²½ìš© ìº”ë²„ìŠ¤ */
        #canvas-bg {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -2;
        }

        /* 2. ë°°ê²½ ì˜¤ë²„ë ˆì´ (ì•½ê°„ ì–´ë‘¡ê²Œ ì²˜ë¦¬í•˜ì—¬ ëª°ì…ê° ìƒìŠ¹) */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: -1;
            pointer-events: none;
        }

        /* ğŸŒ ìì „í•˜ëŠ” ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        #sphere-scene {
            position: absolute;
            top: 50%; left: 50%;
            width: 0; height: 0;
            transform-style: preserve-3d;
            animation: rotateEarth 30s linear infinite;
        }

        @keyframes rotateEarth {
            from { transform: translate(-50%, -50%) rotateX(-5deg) rotateY(0deg); }
            to { transform: translate(-50%, -50%) rotateX(-5deg) rotateY(360deg); }
        }

        /* ì‚¬ì§„ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .photo-card {
            position: absolute;
            width: 150px; 
            height: 150px;
            left: -75px; top: -75px;
            object-fit: cover;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            backface-visibility: visible; 
            transition: border 0.3s, box-shadow 0.3s, filter 0.3s, transform 0.3s;
            filter: brightness(0.7);
        }

        .photo-card:hover {
            filter: brightness(1.2);
            border-color: var(--accent);
            box-shadow: 0 0 30px var(--glow);
            z-index: 10000 !important;
            /* í˜¸ë²„ ì‹œ êµ¬ì˜ ì¤‘ì‹¬ì—ì„œ ë°”ê¹¥ìª½ìœ¼ë¡œ ì‚´ì§ íŠ€ì–´ë‚˜ì˜¤ëŠ” íš¨ê³¼ */
            transform: scale(1.2) !important; 
        }

        /* í™•ëŒ€ ëª¨ë‹¬ */
        #modal {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999999;
            backdrop-filter: blur(15px);
            cursor: zoom-out;
        }

        #modal img {
            max-width: 85%;
            max-height: 85%;
            border: 2px solid var(--accent);
            box-shadow: 0 0 50px var(--glow);
            transform: scale(0.8);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #modal.active img { transform: scale(1); }

        /* UI */
        .nav { position: fixed; top: 20px; left: 20px; z-index: 10000; }
        .btn {
            padding: 10px 22px;
            border: 1px solid var(--accent);
            color: var(--accent);
            text-decoration: none;
            background: rgba(0,0,0,0.5);
            border-radius: 30px;
            font-weight: bold;
            font-size: 0.9rem;
            transition: all 0.3s;
            letter-spacing: 1px;
        }
        .btn:hover {
            background: var(--accent);
            color: black;
            box-shadow: 0 0 20px var(--glow);
        }
    </style>
</head>
<body>

    <canvas id="canvas-bg"></canvas>

    <nav class="nav"><a href="index.html" class="btn">â† EXIT GALLERY</a></nav>

    <div id="sphere-scene"></div>

    <div id="modal" onclick="closeModal()">
        <img id="modal-img" src="" alt="">
    </div>

<script>
    // 1. Granim.js ë°°ê²½ ì„¤ì • (index.htmlê³¼ í†µì¼ê° ìˆëŠ” ì˜¤ë¡œë¼ íš¨ê³¼)
    var granimInstance = new Granim({
        element: '#canvas-bg',
        direction: 'top-bottom',
        isPausedWhenNotInView: true,
        states : {
            "default-state": {
                gradients: [
                    ['#050507', '#1a0f2e'],
                    ['#0f172a', '#050507'],
                    ['#1e1b4b', '#0a0a12']
                ],
                transitionSpeed: 8000
            }
        }
    });

    const scene = document.getElementById('sphere-scene');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    
    const count = 37; 
    const radius = 450; // êµ¬ì²´ ë°˜ì§€ë¦„ ì‚´ì§ í™•ëŒ€

    for (let i = 0; i < count; i++) {
        const index = i + 1;
        const num = String(index).padStart(3, '0');
        const extension = index <= 19 ? 'jpg' : 'png';
        const src = `images/image-${num}.${extension}`;
        
        const img = document.createElement('img');
        img.src = src;
        img.className = 'photo-card';
        
        // í”¼ë³´ë‚˜ì¹˜ êµ¬ì²´ ì¢Œí‘œ ê³„ì‚°
        const phi = Math.acos(-1 + (2 * i) / count);
        const theta = Math.sqrt(count * Math.PI) * phi;

        const x = radius * Math.sin(phi) * Math.cos(theta);
        const y = radius * Math.sin(phi) * Math.sin(theta);
        const z = radius * Math.cos(phi);

        // ê¸°ë³¸ ë³€í™˜ ì„¤ì • (íšŒì „ í¬í•¨)
        const baseTransform = `translate3d(${x}px, ${y}px, ${z}px) rotateY(${theta}rad) rotateX(${phi - Math.PI/2}rad)`;
        img.style.transform = baseTransform;

        img.onclick = (e) => {
            e.stopPropagation();
            openModal(src);
        };

        scene.appendChild(img);
    }

    function openModal(src) {
        modalImg.src = src;
        modal.style.display = 'flex';
        setTimeout(() => modal.classList.add('active'), 10);
    }

    function closeModal() {
        modal.classList.remove('active');
        setTimeout(() => modal.style.display = 'none', 300);
    }

    // ë§ˆìš°ìŠ¤ ì´ë™ì— ë”°ë¥¸ ë¯¸ì„¸í•œ ì‹œì  ë³€í™” (íŒ¨ëŸ´ë™ìŠ¤)
    document.addEventListener('mousemove', (e) => {
        const moveX = (e.pageX - window.innerWidth / 2) / 100;
        const moveY = (e.pageY - window.innerHeight / 2) / 100;
        scene.parentElement.style.perspectiveOrigin = `${50 + moveX}% ${50 + moveY}%`;
    });
</script>
</body>
</html>